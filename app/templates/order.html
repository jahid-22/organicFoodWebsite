{% extends 'base.html' %}
{% load static %}
{% block title %}<title> Order Page </title>{% endblock title %}
{% block carousel %}{% endblock carousel %}

{% block main-content %}

<div class="container">
    <div class="row" id="profile-style">
        <div class="col-sm-3 border-end text-center p-3"><h3>Welcome {{request.user | capfirst}}</h3>
        <a href="{% url 'profile' %}" class="btn btn-primary">Profile</a>
        </div>

        
        <div class="col-sm-9 border-start border-top   ">
            {% for op in order_placed %}
            
            <div class="row">
                <hr>
            <div class="col-sm-2">
                <div class=" text-center align-self-center"><img src="{{op.product.productImg.url}}" alt="" srcset="" class="img-fluid img-thumbnail shadow-sm" height="150" width="150"> 
                </div>
            </div>
            
            <div class="col-sm-5">
                    <p class="p-0 m-0"><b>Title:</b> {{op.product.title}}</p>
                    <p class="p-0 m-0"><b>Each:</b> {{op.product.discountedprice}}</p>
                    <p class="p-0 m-0"><b>Total Price:</b> {{op.total_cost}}</p>
                    <p class="p-0 m-0"><b>quantity:</b> {{op.quantity}}</p>
            </div>

            <div class="col-sm-4">
                <p>Order Status: <b>{{op.status}}</b></p>
                {% if op.status == 'accepted' %}
                <div class="progress">
                    <div class="progress-bar bg-primary" role="progressbar" aria-label="Example with label" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
                  </div>
                  {% endif %}

                  {% if op.status == 'packed' %}
                <div class="progress">
                    <div class="progress-bar bg-info" role="progressbar" aria-label="Example with label" style="width: 50%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">50%</div>
                  </div>
                  {% endif %}

                  {% if op.status == 'on the way' %}
                  <div class="progress">
                      <div class="progress-bar bg-warning" role="progressbar" aria-label="Example with label" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">75%</div>
                    </div>
                    {% endif %}


                    {% if op.status == 'deliverd' %}
                    <div class="progress">
                        <div class="progress-bar bg-success" role="progressbar" aria-label="Example with label" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">100%</div>
                      </div>
                      {% endif %}

                      {% if op.status == 'cancel' %}
                      <div class="progress">
                          <div class="progress-bar bg-danger" role="progressbar" aria-label="Example with label" style="width: 100%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">0%</div>
                        </div>
                        {% endif %}

            </div>

            </div>
            {% endfor %}
        </div>
    </div>
</div>

{% endblock main-content %}